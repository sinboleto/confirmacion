<!DOCTYPE html>
<html>

<head>
    <title>Plantillas de mensajes</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<header><br></header>

<body>
    <div class="container">
        <h1>Plantillas de mensajes</h1>

        <br>

        <form method="POST" action="/inputs" id="myForm">
            <label for="nom_invitado_input">Nombre del invitado (ejemplo):</label>
            <input type="text" id="input_1" name="nom_invitado_input"><br><br>

            <label for="boletos_input">Número de boletos (ejemplo):</label>
            <input type="number" id="input_2" name="boletos_input"><br><br>

            <label for="nom_novia">Nombre de la novia:</label>
            <input type="text" id="input_3" name="nom_novia"><br><br>

            <label for="nom_novio">Nombre de la novia:</label>
            <input type="text" id="input_4" name="nom_novio"><br><br>

            <label for="fecha_evento">Fecha del evento:</label>
            <input type="text" id="input_5" name="fecha_evento"><br><br>

            <label for="hora_inicio">Hora de inicio:</label>
            <input type="text" id="input_6" name="hora_inicio"><br><br>

            <label for="lugar_evento">Lugar del evento:</label>
            <input type="text" id="input_7" name="lugar_evento"><br><br>

            <label for="lugar_ceremonia">Lugar de la ceremonia:</label>
            <input type="text" id="input_8" name="lugar_ceremonia"><br><br>

            <label for="codigo_vestimenta">Código de vestimenta:</label>
            <input type="text" id="input_9" name="codigo_vestimenta"><br><br>

            <label for="link_mesa_regalos">Link mesa regalos:</label>
            <input type="text" id="input_10" name="link_mesa_regalos"><br><br>

            <label for="link_soporte_input">Link soporte:</label>
            <input type="text" id="input_11" name="link_soporte_input"><br><br>

            <input type="radio" id="msg_conf" name="message_type" value="msg_conf" checked>
            <label for="msg_conf">Confirmación asistencia</label><br>

            <input type="radio" id="msg_conf_num" name="message_type" value="msg_conf_num">
            <label for="msg_conf_num">Confirmación número de invitados</label><br>

            <input type="radio" id="msg_info_general" name="message_type" value="msg_info_general">
            <label for="msg_info_general">Información general</label><br><br>

            <input type="submit" value="Submit">
        </form>
    </div>

    <div id="messageContainer"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const form = document.getElementById('myForm');
            const messageContainer = document.getElementById('messageContainer');

            form.addEventListener('input', function () {
                const formData = new FormData(form);
                const values = Object.fromEntries(formData.entries());

                const message = getMessage(values);
                messageContainer.innerHTML = message;
            });

            function getMessage(values) {
                let message = '';

                // Accessing the message text from the 'messages' variable
                if (values.message_type === 'msg_conf') {
                    message = `${messages.msg_conf}`;
                } else if (values.message_type === 'msg_conf_num') {
                    message = `${messages.msg_conf_num}`;
                } else if (values.message_type === 'msg_info_general') {
                    message = `${messages.msg_info_general}`;
                } else {
                    message = `No message selected`;
                }

                // Replace placeholders in the message with actual values from 'values'
                message = message.replace(/\{([^}]+)\}/g, function (match, key) {
                    return values[key.trim()] || '';
                });

                return `<p>${message}</p>`;
            }
        });
    </script>

</body>

</html>